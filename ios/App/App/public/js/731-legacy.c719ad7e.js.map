{"version":3,"file":"js/731-legacy.c719ad7e.js","mappings":"4MASiBA,MAAM,gB,UACPC,EAAAA,EAAAA,GAAqE,SAAlE,kEAA8D,K,UACjEA,EAAAA,EAAAA,GAAyD,SAAtD,sDAAkD,K,UACrDA,EAAAA,EAAAA,GAAoF,SAAjF,iFAA6E,K,UAChFA,EAAAA,EAAAA,GAIK,YAHDA,EAAAA,EAAAA,GAAyG,YAArGA,EAAAA,EAAAA,GAA6C,QAAvCD,MAAM,QAAO,wBAAmB,QAAO,0DACjDC,EAAAA,EAAAA,GAA8G,YAA1GA,EAAAA,EAAAA,GAA6C,QAAvCD,MAAM,QAAO,wBAAmB,QAAO,+DACjDC,EAAAA,EAAAA,GAA8G,YAA1GA,EAAAA,EAAAA,GAA+C,QAAzCD,MAAM,QAAO,0BAAqB,QAAO,8DAAsD,K,UAE7GC,EAAAA,EAAAA,GAA8F,KAA3FD,MAAM,wBAAuB,8DAA0D,K,UAC1FC,EAAAA,EAAAA,GAA0F,KAAvFD,MAAM,wBAAuB,0DAAsD,K,qMAlBlGE,EAAAA,EAAAA,IAsBWC,EAAA,M,kBArBP,IAIa,EAJbC,EAAAA,EAAAA,IAIaC,EAAA,M,kBAHT,IAEc,EAFdD,EAAAA,EAAAA,IAEcE,EAAA,M,kBADV,IAA2B,EAA3BF,EAAAA,EAAAA,IAA2BG,EAAA,M,kBAAhB,IAAI,UAAJ,W,yBAInBH,EAAAA,EAAAA,IAccI,EAAA,M,kBAbV,IAYM,EAZNP,EAAAA,EAAAA,GAYM,MAZNQ,EAYM,CAXFC,EACAC,EACAC,EACAC,EAKAC,EACAC,GACAX,EAAAA,EAAAA,IAA6EY,EAAA,CAAhEC,QAAOC,EAAAC,oBAAkB,C,kBAAE,IAAwB,UAAxB,+B,0GAYxD,SACIC,KAAM,uBACNC,WAAY,CACRC,QAAO,KAAEC,WAAU,KAAEC,SAAQ,KAAEC,WAAU,KAAEC,UAASA,EAAAA,IAGxDC,QAAS,CACLC,2BACI,MAAMC,QAA2BC,EAAAA,GAAOX,qBAClCY,QAA2BC,EAAAA,GAAWb,qBACtCc,QAA4BC,EAAAA,EAAYf,qBAE9C,GAAgC,YAA5BU,EAAiBM,QACgB,YAAjCJ,EAAeK,eACiB,YAAhCH,EAAmBI,SAEnBC,KAAKC,QAAQC,QAAQ,kBAClB,GAAgC,WAA5BX,EAAiBM,QACgB,WAAjCJ,EAAeK,eACiB,WAAhCH,EAAmBI,SAAuB,CAEjD,MAAMI,EAAWC,SAASC,uBAAuB,wBACjD,IAAK,MAAMC,KAAWH,EAClBG,EAAQC,MAAMC,QAAU,OAEhC,CACJ,I,cCnDR,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,G","sources":["webpack://mona/./src/views/PermissionDeniedPage.vue","webpack://mona/./src/views/PermissionDeniedPage.vue?f122"],"sourcesContent":["<template>\n    <ion-page>\n        <ion-header>\n            <ion-toolbar>\n                <ion-title>MONA</ion-title>\n            </ion-toolbar>\n        </ion-header>\n\n        <ion-content>\n            <div class=\"main-content\">\n                <p>Certaines permissions n'ont pas été accordées à l'application.</p>\n                <p>Some permissions have not been granted to the app.</p>\n                <p>Voici la liste des permissions dont l'application a besoin pour fonctionner :</p>\n                <ul>\n                    <li><span class=\"bold\">Accès à la caméra :</span> nécessaire pour prendre en photo des découvertes ;</li>\n                    <li><span class=\"bold\">Accès au stockage :</span> nécessaire pour enregistrer les photos sur l'appareil ;</li>\n                    <li><span class=\"bold\">Accès à la position :</span> nécessaire pour afficher votre position sur la carte.</li>\n                </ul>\n                <p class=\"cannot-ask-for-perms\">Vous avez définitivement bloqué la demande de permissions.</p>\n                <p class=\"cannot-ask-for-perms\">You have permanently blocked some permission requests.</p>\n                <ion-button @click=\"requestPermissions\">Demander les permissions</ion-button>\n            </div>\n        </ion-content>\n    </ion-page>\n</template>\n\n<script>\nimport { IonPage, IonToolbar, IonTitle, IonContent, IonButton } from \"@ionic/vue\";\nimport { Filesystem } from \"@capacitor/filesystem\";\nimport { Camera } from \"@capacitor/camera\";\nimport { Geolocation } from \"@capacitor/geolocation\";\n\nexport default {\n    name: \"PermissionDeniedPage\",\n    components: {\n        IonPage, IonToolbar, IonTitle, IonContent, IonButton\n    },\n\n    methods: {\n        async requestPermissions() {\n            const cameraPermStatus   = await Camera.requestPermissions();\n            const filePermStatus     = await Filesystem.requestPermissions();\n            const locationPermStatus = await  Geolocation.requestPermissions();\n\n            if (cameraPermStatus.camera === \"granted\" &&\n                filePermStatus.publicStorage === \"granted\" &&\n                locationPermStatus.location === \"granted\") {\n\n                this.$router.replace(\"/register\");\n            } else if (cameraPermStatus.camera === \"denied\" ||\n                       filePermStatus.publicStorage === \"denied\" ||\n                       locationPermStatus.location === \"denied\") {\n\n                const warnings = document.getElementsByClassName(\"cannot-ask-for-perms\");\n                for (const warning of warnings) {\n                    warning.style.display = \"block\";\n                }\n            }\n        }\n    }\n}\n</script>\n\n<style scoped>\n@import url('@/theme/GlobalStyle.css');\n\n.main-content {\n    width: 100%;\n    height: 100%;\n    padding: 10%;\n}\n\n\np, li {\n    font-family: 'Open Sans', sans-serif;\n}\n\np {\n    text-align: center;\n}\n\n.cannot-ask-for-perms {\n    display: none;\n    color: red;\n    font-weight: bold;\n}\n\n.bold {\n    font-weight: bold;\n}\n\nion-button {\n    transform: translate(-50%, -50%);\n    position: relative;\n    margin-top: 5vw;\n    left: 50%;\n}\n</style>\n","import { render } from \"./PermissionDeniedPage.vue?vue&type=template&id=1392e822&scoped=true\"\nimport script from \"./PermissionDeniedPage.vue?vue&type=script&lang=js\"\nexport * from \"./PermissionDeniedPage.vue?vue&type=script&lang=js\"\n\nimport \"./PermissionDeniedPage.vue?vue&type=style&index=0&id=1392e822&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1392e822\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createBlock","_component_ion_page","_createVNode","_component_ion_header","_component_ion_toolbar","_component_ion_title","_component_ion_content","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_component_ion_button","onClick","$options","requestPermissions","name","components","IonPage","IonToolbar","IonTitle","IonContent","IonButton","methods","async","cameraPermStatus","Camera","filePermStatus","Filesystem","locationPermStatus","Geolocation","camera","publicStorage","location","this","$router","replace","warnings","document","getElementsByClassName","warning","style","display","__exports__","render"],"sourceRoot":""}