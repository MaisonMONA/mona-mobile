"use strict";(self["webpackChunkmona"]=self["webpackChunkmona"]||[]).push([[167],{5016:(e,o,n)=>{n.r(o),n.d(o,{default:()=>z});var t=n(6252);function l(e,o,n,l,c,i){const a=(0,t.up)("ion-nav"),r=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(a,{root:l.CollectionContainer},null,8,["root"])])),_:1})}var c=n(7285),i=n(3577);const a=e=>((0,t.dD)("data-v-450d9460"),e=e(),(0,t.Cn)(),e),r={class:"collection-header"},u={id:"collected-count"},d=a((()=>(0,t._)("br",null,null,-1))),s={class:"collection-content"},p=a((()=>(0,t._)("p",{id:"your-collection"},"Votre collection",-1))),m={class:"img-card"},g=["id","src"],h={class:"title-holder"};function f(e,o,n,l,c,a){const f=(0,t.up)("ion-title"),w=(0,t.up)("ion-toolbar"),_=(0,t.up)("ion-header"),I=(0,t.up)("ion-refresher-content"),C=(0,t.up)("ion-refresher"),v=(0,t.up)("ion-icon"),y=(0,t.up)("ion-button"),W=(0,t.up)("ion-col"),b=(0,t.up)("ion-row"),k=(0,t.up)("ion-grid"),T=(0,t.up)("ion-content"),$=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)($,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[(0,t.Uk)("MONA")])),_:1})])),_:1})])),_:1}),(0,t.Wm)(T,{fullscreen:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(C,{slot:"fixed",onIonRefresh:a.refreshPage},{default:(0,t.w5)((()=>[(0,t.Wm)(I)])),_:1},8,["onIonRefresh"]),(0,t.Wm)(y,{onClick:a.refreshPage,id:"refresh-button"},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{icon:c.syncCircleIcon},null,8,["icon"])])),_:1},8,["onClick"]),(0,t._)("div",r,[(0,t.Wm)(v,{id:"collection-icon",icon:c.customCollectionIcon},null,8,["icon"]),(0,t._)("p",u,(0,i.zw)(c.collected.length>0?c.collected.length:""),1),(0,t._)("p",null,[(0,t.Uk)((0,i.zw)(c.collected.length>0?"D":"Aucune d")+"écouverte"+(0,i.zw)(c.collected.length>0?"s":"")+" ",1),d,(0,t.Uk)(" collectionnée"+(0,i.zw)(c.collected.length>0?"s":""),1)])]),(0,t._)("div",s,[p,(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{class:"ion-justify-content-around"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(c.collected,(e=>((0,t.wg)(),(0,t.j4)(W,{key:e,size:"5.5",onClick:o=>a.openDetails(e)},{default:(0,t.w5)((()=>[(0,t._)("div",m,[(0,t._)("img",{id:`user-photo-${e.id}-${e.dType}`,src:a.getPhotoThumbnail(e.id,e.dType)},null,8,g),(0,t._)("div",h,[(0,t._)("p",null,(0,i.zw)(a.formatTitle(c.getDiscovery(e.id,e.dType))),1)])])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])])),_:1})])),_:1})}n(7658),n(7686),n(4506),n(3948),n(285),n(1637),n(2062);var w=n(8903),_=n(2033),I=n(7282);const C=n.p+"img/collection_white.d2eb8c7e.svg";var v=n(891);const y=e=>((0,t.dD)("data-v-560c0897"),e=e(),(0,t.Cn)(),e),W=y((()=>(0,t._)("div",{class:"main-container"},[(0,t._)("h1",null,"Coming soon")],-1)));function b(e,o,n,l,c,i){const a=(0,t.up)("ion-back-button"),r=(0,t.up)("ion-buttons"),u=(0,t.up)("ion-title"),d=(0,t.up)("ion-toolbar"),s=(0,t.up)("ion-header"),p=(0,t.up)("ion-content");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(s,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,{slot:"start"},{default:(0,t.w5)((()=>[(0,t.Wm)(a)])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Uk)("MONA")])),_:1})])),_:1})])),_:1}),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[W])),_:1})],64)}const k={name:"BadgesContainer",components:{IonHeader:c.Gu,IonContent:c.W2,IonToolbar:c.sr,IonButtons:c.Sm,IonBackButton:c.oU,IonTitle:c.wd}};var T=n(3744);const $=(0,T.Z)(k,[["render",b],["__scopeId","data-v-560c0897"]]),D=$,B={name:"CollectionContainer",components:{IonPage:c._i,IonHeader:c.Gu,IonToolbar:c.sr,IonTitle:c.wd,IonContent:c.W2,IonGrid:c.jY,IonRow:c.Nd,IonCol:c.wI,IonIcon:c.gu,IonButton:c.YG,IonRefresher:c.nJ,IonRefresherContent:c.Wo},setup(){return{BadgesContainer:D}},data(){return{collected:_.m.getCollectedChronologically(),getDiscovery:I.Z.getDiscovery,customCollectionIcon:C,syncCircleIcon:w.H5R}},methods:{openDetails(e){let o;o="artwork"===e.dType?0:"place"===e.dType?1:2,this.$router.push(`/discovery-details/${o}/${e.id}`)},formatTitle(e){const o=e.getTitle();return o.length>40?o.slice(0,37)+"...":o},getPhotoThumbnail(e,o){const{filename:t}=_.m.getCollected(e,o);if(null==t)return n(9639);v.fy.readFile({path:"thumbnail/"+t,directory:v.tP.Data}).then((async n=>{const l=await fetch(`data:image/${t.split(".").at(-1)};base64,${n.data}`),c=await l.blob(),i=URL.createObjectURL(c);document.getElementById(`user-photo-${e}-${o}`).src=i})).catch((t=>{console.log(t),document.getElementById(`user-photo-${e}-${o}`).src=n(9639)}))},refreshPage(e){this.collected=_.m.getCollectedChronologically(),this.$forceUpdate(),e&&e.target&&e.target.complete&&e.target.complete()}}},P=(0,T.Z)(B,[["render",f],["__scopeId","data-v-450d9460"]]),R=P,U={components:{IonPage:c._i,IonNav:c.O1},setup(){return{CollectionContainer:R}}},j=(0,T.Z)(U,[["render",l]]),z=j},9639:(e,o,n)=>{e.exports=n.p+"img/photo_placeholder.0ac78627.jpg"}}]);
//# sourceMappingURL=167-legacy.e29fe36b.js.map